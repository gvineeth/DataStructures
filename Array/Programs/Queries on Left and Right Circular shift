a=list(map(int,input().split(',')))
ob=int(input())

match ob:
  case 1:
    n=int(input())
    print(a[-n:]+a[:-n])
  case 2:
    n=int(input())
    print(a[n:]+a[:n])
  case 3:
    l,r=[int(x) for x in input().split()]
    print(sum(a[l:r+1]))

'''

i - 1,2,3,4,5
    1
    2
o - [4 5 1 2 3]

i - 1,2,3,4,5
    2
    2
o - [3 4 5 1 2]

i - 1,2,3,4,5
    3
    1 4
o - 14

'''
